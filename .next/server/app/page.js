(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},840:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>h,tree:()=>d}),r(908),r(1506),r(5866);var s=r(3191),i=r(8716),n=r(7922),o=r.n(n),a=r(5231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,908)),"/Users/dancross/Documents/GitHub/WovenWebApp/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Users/dancross/Documents/GitHub/WovenWebApp/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],p=["/Users/dancross/Documents/GitHub/WovenWebApp/app/page.tsx"],c="/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},881:(e,t,r)=>{Promise.resolve().then(r.bind(r,8743))},5406:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5303:()=>{},8743:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(326),i=r(7577);function n(){let e=(0,i.useRef)(null),[t,r]=(0,i.useState)(null),[n,o]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[d,p]=(0,i.useState)(!1),c=async t=>{let s=t.target.files?.[0];if(s){o(null),l(!0);try{console.log("[UI] Upload started");let e=await s.text(),t=JSON.parse(e);console.log("[UI] Upload parsed JSON, posting to /api/poetic-brain");let i=await fetch("/api/poetic-brain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await i.json();if(console.log("[UI] Upload response status:",i.status,"body:",n),!i.ok)throw Error(n?.error||"Upload failed");r(n),p(!0)}catch(e){console.error("[UI] Upload error:",e),o(e?.message||"Something went wrong")}finally{l(!1),e.current&&(e.current.value="")}}};return(0,s.jsxs)("main",{style:{maxWidth:720,margin:"0 auto",display:"flex",flexDirection:"column",gap:16},children:[s.jsx("h1",{style:{margin:0},children:"Poetic Brain – Test Upload"}),s.jsx("p",{children:"Upload a combined Mirror + Symbolic Weather JSON to hit the API."}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[s.jsx("button",{onClick:()=>{e.current?.click()},disabled:a,"aria-busy":a,children:a?"Uploading…":"Upload JSON"}),s.jsx("input",{ref:e,type:"file",accept:"application/json",style:{position:"absolute",left:-9999,width:1,height:1,opacity:0},onChange:c})]}),n&&s.jsx("div",{"data-testid":"upload-error",role:"alert",style:{color:"#b91c1c"},children:n}),d&&s.jsx("div",{"data-testid":"upload-success",style:{color:"#16a34a"},children:"Upload complete."}),s.jsx("section",{"data-testid":"mirror-output",style:{padding:12,border:"1px solid #e5e7eb",borderRadius:8,minHeight:80,display:"flex",flexDirection:"column",gap:6},children:t?.draft?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:["picture: ",String(t.draft.picture||"")]}),(0,s.jsxs)("div",{children:["feeling: ",String(t.draft.feeling||"")]}),(0,s.jsxs)("div",{children:["container: ",String(t.draft.container||"")]}),(0,s.jsxs)("div",{children:["option: ",String(t.draft.option||"")]}),(0,s.jsxs)("div",{children:["next_step: ",String(t.draft.next_step||"")]})]}):t?s.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:JSON.stringify(t,null,2)}):s.jsx("span",{style:{color:"#6b7280"},children:"No result yet."})})]})}},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>i});var s=r(9510);let i={title:"Woven Web App",description:"Poetic Brain Test Shell"};function n({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{style:{fontFamily:"system-ui, sans-serif",margin:0,padding:16},children:e})})}},908:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/dancross/Documents/GitHub/WovenWebApp/app/page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,471],()=>r(840));module.exports=s})();